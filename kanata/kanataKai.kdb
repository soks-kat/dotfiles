(defcfg
    process-unmapped-keys yes
    block-unmapped-keys yes
)

(deflocalkeys-linux
    Ã± 39
    Â´ 40
    ` 26
    Ã§ 43
    - 53
    + 27
    ' 12
    Âº 41
    Â¡ 13
)

;; (defsrc
;;      tab  q  w  e  r  t      y  u  i  o  p  `       prtsc
;;     caps  a  s  d  f  g      h  j  k  l  Ã±  Â´
;;   lsft <  z  x  c  v  b      n  m  ,  .  -  rsft
;;           lmet  lalt esc  spc  ralt  rctrl
;; )

(defsrc
       Âº  1  2  3  4  5      7  8  9  0  '  Â¡          prtsc
     tab  q  w  e  r  t      u  i  o  p  `  +    
esc caps  a  s  d  f  g      j  k  l  Ã±  Â´  ret
                 x  c  v    n  m  ,            
)

(deflayer main
     tab   q  w  e  r  t      y  u  i  o  p  bspc    (tap-dance 200 (lrld lrld-next))
     @ctl  a  s  d  f  g      h  j  k  l @'  @ret
  _ @sSym  z  x  c  v  b      n  m  ,  .  -  lsft
           @acl @spc @sym  @sym  spc  @acr
)

(deflayer symbol
          @\ @! @@ @# @$ @%     @&  7  8  9 @?  _    _
          @` @< @[ @{ @âŸ® @=     @/  4  5  6  +  .
 @sSym @sSym @> @^ @Â· @~ @|     @*  1  2  3  0  @sSym
                _  @sSym   _    _    _    _
)

(deflayer symbol-shift
       _  Â¡  _ @â‚¬  _  _      _  _  _  _   @Â¿  del   _
       _  _ @] @} @âŸ¯  _      â—€  â–¼  â–²  â–¶   ğŸ”†  _
    _  _  _  _  _  _  _      _  _  _  _   ğŸ”…  _
              ğŸ”‰  ğŸ”‡  ğŸ”Š    â—€â—€   â–¶â¸   â–¶â–¶
)
(deflayer accent-left
       _  _  _ @Ã¨  _  _      _ @Ã¹ @Ã¬ @Ã²  _  _       _
       _ @Ã   _  _  _  _      _  _  _  _  _  _
    _  _  _  _  Ã§  _  _      Ã±  _  _  _  _  _
                _    _  _  _    _    _
)
(deflayer accent-right
       _  _  _ @Ã©  _  _      _ @Ãº @Ã­ @Ã³  _  _       _
       _ @Ã¡  _  _  _  _      _  _  _  _  _  _
    _  _  _  _  Ã§  _  _      Ã±  _  _  _  _  _
                _    _  _  _    _    _
)
(deflayer accent-dieresis
       _  _  _  _  _  _      _ @Ã¼ @Ã¯  _  _  _       _
       _  _  _  _  _  _      _  _  _  _  _  _
    _  _  _  _  _  _  _      _  _  _  _  _  _
             _    _  _    _     _    _
)

;; (deflayer function
;;        _  _  _  _  _  _      _  _  _  _  _  _       _
;;        _  _  _  _  _  _      _  _  _  _  _  _
;;     _  _  _  _  _  _  _      _  _  _  _  _  _
;;              _   _    _     _      _     _
;; )

(defalias
    ctl (tap-hold-press 100 250 esc lctl)
    ret (tap-hold-press 100 250 ret rctl)
    ;; bspc (fork bspc del (sft))
    ;; spc (tap-hold-press 0 250 spc (layer-while-held symbol))
    sym (layer-while-held symbol)
    sSym (layer-while-held symbol-shift)
    acr (tap-hold-press 100 300 (one-shot-press 300 (layer-while-held accent-right)) lalt)
    acl (tap-hold-press 100 300 (one-shot-press 300 (layer-while-held accent-left)) lalt)
    spc (tap-hold-press 100 250 spc lsft)
    ;; fn (layer-while-held function)

    '  (fork ' S-2 (sft))
    !  S-1
    @  AG-2
    #  AG-3
    %  S-5
    $  S-4
    â‚¬  AG-e
    ?  S-'
    Â¿  S-Â¡
    *  S-+
    Â·  S-3
    ^  (macro S-` spc)
    =  S-0
    ~  AG-4
    &  S-6
    /  S-7
    \  AG-Âº
    |  AG-1

    âŸ®  S-8
    âŸ¯  S-9
    [  AG-`
    ]  AG-+
    <  <
    >  S-<
    {  AG-Â´
    }  AG-Ã§
    `  (macro ` spc)

    Ã¡  (macro Â´ a)
    Ã   (macro ` a)
    Ã©  (macro Â´ e)
    Ã¨  (macro ` e)
    Ã­  (macro Â´ i)
    Ã¬  (macro ` i)
    Ã³  (macro Â´ o)
    Ã²  (macro ` o)
    Ãº  (macro Â´ u)
    Ã¹  (macro ` u)

    Ã¼  (macro S-Â´ u)
    Ã¯  (macro S-Â´ i)
)
